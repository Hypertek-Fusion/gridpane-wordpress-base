import{j as s,u as t}from"./fields-Cqw4NA-S.js";import{R as S,u as C,a as u,h as q}from"./vendor-D21mNUGX.js";import{B as A,a as N,n as E,f as $,L as I}from"./Layout-DCNQQmUm.js";import{P as c,G as b,F as G,a as B,u as Q,j as W,m as k,L as F,s as x}from"./index-DxCcoVgy.js";import{P as M}from"./index-CP6v-V9Q.js";import{C as j,a}from"./CardRow-BUjSt7Qo.js";import{E as D}from"./index-CTAGjDz_.js";import{p as H}from"./postLabels-CIIWb-D8.js";import{B as i}from"./index-CW65AES1.js";import{B as h}from"./index-Cbo4wqr7.js";const v=({data:e})=>{if(e.length>0)return s.jsxs(j,{children:[s.jsx(a,{label:t("Name"),value:e[0].name}),s.jsx(a,{label:t("Singular"),value:e[0].singular}),s.jsx(a,{label:t("Plural"),value:e[0].plural}),s.jsx(a,{label:t("Icon"),value:s.jsx(D,{value:e[0].icon})}),s.jsx(a,{label:t("Supports"),value:s.jsx("div",{className:"i-flex-center s-8",children:e[0].supports.map(n=>s.jsx(A,{children:n}))})})]})};v.propTypes={data:c.object.isRequired};const f=({postType:e,data:n})=>{const p=()=>{b("regeneratePostLabelsAction",{postType:e}).then(l=>{l.success&&(N("Labels successfully regenerated"),G(50)),l.error&&E.error(error)}).catch(l=>{console.error(l.message)})};if(n.length>0)return s.jsxs(j,{children:[s.jsxs("div",{className:"acpt-card-row",children:[s.jsx("span",{className:"label",children:s.jsx("a",{style:{fontWeight:"normal"},href:"#",onClick:l=>{l.preventDefault(),p()},children:t("Regenerate")})}),s.jsx("span",{className:"value"})]}),H.map(l=>s.jsx(a,{index:l.id,label:t(l.label),value:n[0].labels[l.id]}))]})};f.propTypes={postType:c.string.isRequired,data:c.object.isRequired};const y=({data:e,isWPGraphQLActive:n=!1})=>{if(e.length>0)return s.jsxs(j,{children:[n&&s.jsxs(S.Fragment,{children:[s.jsx(a,{label:t("Show the custom post type in WPGraphQL"),value:s.jsx(i,{status:e[0].settings.show_in_graphql})}),s.jsx(a,{label:t("GraphQL single name"),value:s.jsx(i,{status:e[0].settings.graphql_single_name})}),s.jsx(a,{label:t("GraphQL plural name"),value:s.jsx(i,{status:e[0].settings.graphql_plural_name})})]}),s.jsx(a,{label:t("Hierarchical"),value:s.jsx(i,{status:e[0].settings.hierarchical})}),s.jsx(a,{label:t("Is Public"),value:s.jsx(i,{status:e[0].settings.public})}),s.jsx(a,{label:t("Publicly queryable"),value:s.jsx(i,{status:e[0].settings.publicly_queryable})}),s.jsx(a,{label:t("Show in UI"),value:s.jsx(i,{status:e[0].settings.show_ui})}),s.jsx(a,{label:t("Show in menu"),value:typeof e[0].settings.show_in_menu=="string"?e[0].settings.show_in_menu:s.jsx(i,{status:e[0].settings.show_in_menu})}),s.jsx(a,{label:t("Show in nav menus"),value:s.jsx(i,{status:e[0].settings.show_in_nav_menus})}),s.jsx(a,{label:t("Show in admin bar"),value:s.jsx(i,{status:e[0].settings.show_in_admin_bar})}),s.jsx(a,{label:t("Show in REST API"),value:s.jsx(i,{status:e[0].settings.show_in_rest})}),s.jsx(a,{label:t("REST API base slug"),value:e[0].settings.rest_base}),s.jsx(a,{label:t("Menu position"),value:e[0].settings.menu_position}),s.jsx(a,{label:t("Capability Type"),value:e[0].settings.capability_type}),s.jsx(a,{label:t("Has archive"),value:s.jsx(i,{status:e[0].settings.has_archive})}),s.jsx(a,{label:t("Rewrite"),value:s.jsx(i,{status:e[0].settings.rewrite})}),s.jsx(a,{label:t("Custom rewrite rules"),value:e[0].settings.custom_rewrite}),s.jsx(a,{label:t("Query var"),value:e[0].settings.query_var}),s.jsx(a,{label:t("Custom query var"),value:e[0].settings.custom_query_var}),s.jsx(a,{label:t("Front URL prefix"),value:e[0].settings.front_url_prefix})]})};y.propTypes={data:c.object.isRequired,isWPGraphQLActive:c.bool};const es=()=>{const{data:e,loading:n}=B(r=>r.fetchCustomPostTypes),p=Q(),{postType:l}=C(),[_,d]=u.useState(!1),[o,P]=u.useState(0),[w,m]=u.useState(!1),R=q();if((l==="page"||l==="post")&&R("/"),u.useEffect(()=>{b("isWPGraphQLActiveAction",{}).then(r=>{d(r.status)}).catch(r=>{console.error(r.message)})},[]),u.useEffect(()=>{p(W({postType:l})).then(r=>{r.payload.length!==1&&m(!0),k(`${r.payload[0].singular}: ${t("global settings")}`),$()}).catch(r=>{m(!0),console.error(r)})},[l]),n)return s.jsx(F,{});if(w)return s.jsx(M,{});const L=[s.jsx(h,{style:x.PRIMARY,to:`/edit/${l}/${o}`,children:t("Edit")}),s.jsx(h,{style:x.SECONDARY,to:`/assoc-taxonomy-post/${l}`,children:t("Taxonomies association")}),s.jsx(h,{style:x.WARNING,to:`/permissions/post/${l}/${e.length>0?e[0].id:""}`,children:t("Permissions")})],T=["Basic","Labels","Settings"];return s.jsx(I,{title:`${l}: ${t("global settings")}`,actions:L,crumbs:[{label:t("Registered Custom Post Types"),link:"/"},{label:`${e.length>0?e[0].singular:""}: ${t("global settings")}`}],children:s.jsxs("div",{children:[s.jsx("div",{className:"acpt-tabs",children:s.jsx("ul",{role:"tablist",className:"tablist mb-12",children:T.map((r,g)=>s.jsx("li",{className:`acpt-accordion-tab ${o===g?"active":""}`,onClick:()=>{P(parseInt(g))},children:r}))})}),o===0&&s.jsx(v,{data:e}),o===1&&s.jsx(f,{data:e,postType:l}),o===2&&s.jsx(y,{data:e,isWPGraphQLActive:_})]})})};export{es as default};
