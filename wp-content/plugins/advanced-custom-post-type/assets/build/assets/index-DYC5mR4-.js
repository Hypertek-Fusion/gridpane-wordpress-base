import{u as t,j as i}from"./fields-Cqw4NA-S.js";import{h as C,u as S,a as f}from"./vendor-D21mNUGX.js";import{c as g}from"./index.esm-CunHohLK.js";import{L as I,n as d}from"./Layout-DCNQQmUm.js";import{u as P,a as k,m as R,bP as W,B as T,s as E,L,v as D,c2 as V}from"./index-DxCcoVgy.js";import{a as H}from"./woocommerce_icons-C3b2X_vj.js";import{C as q,a as u}from"./CardRow-BUjSt7Qo.js";import{I as B}from"./Input-CuPRbCrx.js";import{T as M}from"./Toggle-me_yLPe1.js";import{C as U}from"./Checkbox-qgctoYG6.js";import{S as A}from"./SelectMulti-CK2coul2.js";import{I as F}from"./InputHidden-D-OSbUvk.js";const te=({})=>{const n=P(),{data:e}=k(r=>r.fetchWooCommerceProductData),v=C(),{id:o}=S(),m=o?"Edit WooCommerce product data":"Create new WooCommerce product data",[b,p]=f.useState(!1),{register:s,handleSubmit:_,setValue:l,formState:{errors:c},clearErrors:y}=g({mode:"all"}),x=()=>e?typeof e.icon>"u"?null:typeof e.icon=="object"?[e.icon.icon]:[e.icon]:null;f.useEffect(()=>{R(t(m)),o?n(W({id:o})).then(r=>{const a=r.payload;l("product_data_name",a.name),l("icon",a.icon),l("show_ui",a.showInUI),p(!0)}):p(!0)},[]);const w=r=>{n(V(r)).then(a=>{const h=a.payload;h.success?(v("/product-data/product"),d.success(t("Product data successfully saved"))):d.error(h.error)}).catch(a=>{d.error(a)})},j=[i.jsx(T,{type:"submit",style:E.PRIMARY,children:t("Save")})];return b?i.jsx("form",{onSubmit:_(w),children:i.jsx(I,{crumbs:[{label:t("Registered Custom Post Types"),link:"/"},{label:t("WooCommerce product data"),link:"/product-data/product"},{label:o?t("Edit WooCommerce product data"):t("Create new WooCommerce product data")}],title:m,actions:j,children:i.jsxs(q,{style:"with-shadow",children:[i.jsx(F,{register:s,id:"id",value:o||D()}),i.jsx(u,{label:t("Product data name"),value:i.jsx(B,{id:"product_data_name",placeholder:t("Product data name"),description:t("The product data name."),register:s,errors:c,isRequired:!0,validate:{maxLength:{value:20,message:t("max length is 20")},required:t("This field is mandatory")}})}),i.jsx(u,{label:t("Icon"),value:i.jsx(A,{id:"icon",register:s,setValue:l,defaultValue:x(),values:H,clearErrors:y,errors:c,maxItems:1})}),i.jsx(u,{label:t("visibility"),value:i.jsx(U,{register:s,errors:c,id:"visibility",values:{"Show in simple products":{value:"show_if_simple",checked:e&&e.visibility?e.visibility.includes("show_if_simple"):!0},"Show in variable products":{value:"show_if_variable",checked:e&&e.visibility?e.visibility.includes("show_if_variable"):!0},"Show in grouped products":{value:"show_if_grouped",checked:e&&e.visibility?e.visibility.includes("show_if_grouped"):!0},"Show in external products":{value:"show_if_external",checked:e&&e.visibility?e.visibility.includes("show_if_external"):!0},"Hide in virtual products":{value:"hide_if_virtual",checked:e&&e.visibility?e.visibility.includes("hide_if_virtual"):!1},"Hide in external products":{value:"hide_if_external",checked:e&&e.visibility?e.visibility.includes("hide_if_external"):!1}}})}),i.jsx(u,{label:t("Show in UI"),value:i.jsx(M,{register:s,errors:c,id:"show_ui",description:t("Show the product data on the front store page."),defaultValue:null})})]})})}):i.jsx(L,{})};export{te as default};
