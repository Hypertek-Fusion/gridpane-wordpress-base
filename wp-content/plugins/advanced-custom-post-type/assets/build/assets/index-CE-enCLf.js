import{j as s,u as t}from"./fields-Cqw4NA-S.js";import{u as R,a as x,h as S}from"./vendor-D21mNUGX.js";import{P as u,G as C,F as P,a as N,u as q,h as L,m as E,c as $,L as A,s as m}from"./index-DxCcoVgy.js";import{P as k}from"./index-CP6v-V9Q.js";import{B as j}from"./index-Cbo4wqr7.js";import{a as B,n as I,B as M,f as D,L as F}from"./Layout-DCNQQmUm.js";import{C as g,a}from"./CardRow-BUjSt7Qo.js";import{t as G}from"./taxonomyLabels-CLKiG652.js";import{B as i}from"./index-CW65AES1.js";const p=({data:e})=>{if(e.length>0)return s.jsxs(g,{children:[s.jsx(a,{label:t("Slug"),value:e[0].slug}),s.jsx(a,{label:t("Singular"),value:e[0].singular}),s.jsx(a,{label:t("Plural"),value:e[0].plural})]})};p.propTypes={data:u.object.isRequired};const v=({taxonomy:e,data:r})=>{const c=()=>{C("regenerateTaxonomyLabelsAction",{taxonomy:e}).then(l=>{l.success&&(B("Labels successfully regenerated"),P(50)),l.error&&I.error(error)}).catch(l=>{console.error(l.message)})};if(r.length>0)return s.jsxs(g,{children:[s.jsxs("div",{className:"acpt-card-row",children:[s.jsx("span",{className:"label",children:s.jsx("a",{style:{fontWeight:"normal"},href:"#",onClick:l=>{l.preventDefault(),c()},children:t("Regenerate")})}),s.jsx("span",{className:"value"})]}),G.map(l=>s.jsx(a,{index:l.id,label:t(l.label),value:r[0].labels[l.id]}))]})};v.propTypes={taxonomy:u.string.isRequired,data:u.object.isRequired};const d=({data:e})=>{if(e.length>0)return s.jsxs(g,{children:[s.jsx(a,{label:t("Is Public"),value:s.jsx(i,{status:e[0].settings.public})}),s.jsx(a,{label:t("Publicly queryable"),value:s.jsx(i,{status:e[0].settings.publicly_queryable})}),s.jsx(a,{label:t("Hierarchical"),value:s.jsx(i,{status:e[0].settings.hierarchical})}),s.jsx(a,{label:t("Show in menu"),value:s.jsx(i,{status:e[0].settings.show_in_menu})}),s.jsx(a,{label:t("Show in nav menus"),value:s.jsx(i,{status:e[0].settings.show_in_nav_menus})}),s.jsx(a,{label:t("Show in REST API"),value:s.jsx(i,{status:e[0].settings.show_in_rest})}),s.jsx(a,{label:t("REST API base slug"),value:e[0].settings.rest_base}),s.jsx(a,{label:t("REST Controller class"),value:e[0].settings.rest_controller_class}),s.jsx(a,{label:t("Show Tagcloud"),value:s.jsx(i,{status:e[0].settings.show_tagcloud})}),s.jsx(a,{label:t("Show Tagcloud"),value:s.jsx(i,{status:e[0].settings.show_in_quick_edit})}),s.jsx(a,{label:t("Show admin column"),value:s.jsx(i,{status:e[0].settings.show_admin_column})}),s.jsx(a,{label:t("Capabilities"),value:s.jsx("div",{className:"i-flex-center s-8",children:e[0].settings.capabilities&&e[0].settings.capabilities.map(r=>s.jsx(M,{children:r}))})}),s.jsx(a,{label:t("Rewrite"),value:s.jsx(i,{status:e[0].settings.rewrite})}),s.jsx(a,{label:t("Custom rewrite"),value:e[0].settings.custom_rewrite}),s.jsx(a,{label:t("Query var"),value:s.jsx(i,{status:e[0].settings.query_var})}),s.jsx(a,{label:t("Custom query var"),value:s.jsx(i,{status:e[0].settings.custom_query_var})})]})};d.propTypes={data:u.object.isRequired};const U=()=>{const{data:e,loading:r}=N(o=>o.fetchTaxonomies),c=q(),{taxonomy:l}=R(),[n,f]=x.useState(0),[y,h]=x.useState(!1),_=S();if((l==="category"||l==="product_cat")&&_("/"),x.useEffect(()=>{c(L({taxonomy:l})).then(o=>{o.payload.length!==1&&h(!0),E(`${o.payload[0].singular}: ${t("global settings")}`),D()}).catch(o=>{h(!0),console.error(o)}),$("#/taxonomies")},[l]),r)return s.jsx(A,{});if(y)return s.jsx(k,{});const w=[s.jsx(j,{style:m.PRIMARY,to:`/edit_taxonomy/${l}/${n}`,children:t("Edit")}),s.jsx(j,{style:m.SECONDARY,to:`/assoc-post-taxonomy/${l}`,children:t("Taxonomies association")}),s.jsx(j,{style:m.WARNING,to:`/permissions/taxonomy/${l}/${e.length>0?e[0].id:""}`,children:t("Permissions")})],T=["Basic","Labels","Settings"];return s.jsx(F,{title:t("Taxonomy global settings"),actions:w,crumbs:[{label:t("Registered Taxonomies"),link:"/taxonomies"},{label:`${e.length>0?e[0].singular:""}: ${t("global settings")}`}],children:s.jsxs("div",{children:[s.jsx("div",{className:"acpt-tabs",children:s.jsx("ul",{role:"tablist",className:"tablist mb-12",children:T.map((o,b)=>s.jsx("li",{className:`acpt-accordion-tab ${n===b?"active":""}`,onClick:()=>{f(parseInt(b))},children:o}))})}),n===0&&s.jsx(p,{data:e}),n===1&&s.jsx(v,{data:e,taxonomy:l}),n===2&&s.jsx(d,{data:e})]})})};export{U as default};
